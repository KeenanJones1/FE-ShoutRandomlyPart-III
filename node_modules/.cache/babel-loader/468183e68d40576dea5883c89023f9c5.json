{"ast":null,"code":"var _jsxFileName = \"/home/learn/Desktop/ShoutRandomly/frontend/src/components/MyShouts.js\";\nimport React from 'react';\nimport NavBar from './NavBar';\nimport Findfollow from './Findfollow';\nimport Shout from './Shout';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport IconButton from '@material-ui/core/IconButton';\nimport { Delete } from '@material-ui/icons';\n\nclass MyShouts extends React.Component {\n  constructor() {\n    super();\n\n    this.deleteShout = id => {\n      const token = localStorage.getItem('token');\n      const reqObj = {\n        method: 'delete'\n      };\n      fetch(`http://localhost:3000/shouts/${id}`, reqObj).then(resp => resp.json()).then(data => console.log(data));\n    };\n\n    this.renderShouts = () => {\n      const {\n        shouts\n      } = this.state;\n      dayjs.extend(relativeTime);\n      return shouts.map(shout => /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(CardContent, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        \"aria-label\": \"like\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Delete, {\n        onClick: () => this.deleteShout(shout.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 22\n        }\n      }, shout.body), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 22\n        }\n      }, shout.likeCount, \" likes\"), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }\n      }, shout.commentCount, \" comments\"), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }\n      }, \"Created \", dayjs(shout.created_at).fromNow()), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }\n      }, \"Last Updated \", dayjs(shout.updated_at).fromNow()))));\n    };\n\n    this.renderComments = () => {\n      return /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 16\n        }\n      }, \"Hello Comments\");\n    };\n\n    this.state = {\n      shouts: [],\n      comments: [],\n      rendered: false\n    };\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem('token');\n    const reqObj = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    };\n    fetch('http://localhost:3000/myuser', reqObj).then(resp => resp.json()).then(data => {\n      // console.log(data)\n      this.setState({\n        shouts: data.shouts,\n        comments: data.comments,\n        rendered: true\n      });\n    });\n  }\n\n  render() {\n    console.log(\"MyShouts state\", this.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 16\n      }\n    }, this.state.rendered === true ? this.renderShouts() : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 74\n      }\n    }, \"Loading...\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 16\n      }\n    }, this.state.rendered === true ? this.renderComments() : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 72\n      }\n    }, \"Loading...\")));\n  }\n\n}\n\nexport default MyShouts;","map":{"version":3,"sources":["/home/learn/Desktop/ShoutRandomly/frontend/src/components/MyShouts.js"],"names":["React","NavBar","Findfollow","Shout","Card","CardContent","Typography","Grid","dayjs","relativeTime","IconButton","Delete","MyShouts","Component","constructor","deleteShout","id","token","localStorage","getItem","reqObj","method","fetch","then","resp","json","data","console","log","renderShouts","shouts","state","extend","map","shout","body","likeCount","commentCount","created_at","fromNow","updated_at","renderComments","comments","rendered","componentDidMount","headers","setState","render"],"mappings":"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","sourcesContent":["import React from 'react'\nimport NavBar from './NavBar'\nimport Findfollow from './Findfollow'\nimport Shout from './Shout'\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent'\nimport Typography  from '@material-ui/core/Typography';\nimport Grid  from '@material-ui/core/Grid';\nimport dayjs from 'dayjs'\nimport relativeTime from 'dayjs/plugin/relativeTime'\nimport IconButton from '@material-ui/core/IconButton'\nimport { Delete } from '@material-ui/icons'\n\n\nclass MyShouts extends React.Component{\n\n    constructor(){\n        super()\n        this.state = {\n            shouts: [],\n            comments: [],\n            rendered: false\n        }\n    }\n\n    deleteShout = (id) => {\n        const token = localStorage.getItem('token')\n        const reqObj = {\n            method: 'delete'\n        }\n\n        fetch(`http://localhost:3000/shouts/${id}`, reqObj)\n        .then(resp => resp.json())\n        .then(data => console.log(data))\n    }\n\n    componentDidMount(){\n        const token = localStorage.getItem('token')\n            const reqObj = {\n                method: 'GET',\n                headers: {'Content-Type': 'application/json', 'Authorization': `Bearer ${token}`}\n            }\n\n            fetch('http://localhost:3000/myuser', reqObj)\n            .then(resp => resp.json())\n            .then(data => {\n                // console.log(data)\n                this.setState({\n                    shouts: data.shouts, comments: data.comments, rendered: true\n                    })\n                }    \n            )\n    }\n\n    renderShouts = () => {\n        const { shouts } = this.state           \n        dayjs.extend(relativeTime)\n\n    \n\n        return shouts.map( shout => \n        <Card> \n            <CardContent> \n                        <IconButton aria-label=\"like\">\n                            <Delete onClick={() => this.deleteShout(shout.id)} />\n                        </IconButton>\n\n                     <Typography variant=\"h5\">\n                            {shout.body}\n                    </Typography> \n\n                     <Typography variant=\"body2\" color=\"textSecondary\">\n                            {shout.likeCount} likes\n                        </Typography>\n\n                        <Typography variant=\"body2\" color=\"textSecondary\">\n                            {shout.commentCount} comments\n                        </Typography>\n                    \n                        <Typography variant=\"body2\" color=\"textSecondary\">\n                             Created {dayjs(shout.created_at).fromNow()}\n                        </Typography>\n\n                        <Typography variant=\"body2\" color=\"textSecondary\">\n                             Last Updated {dayjs(shout.updated_at).fromNow()}\n                        </Typography>\n                </CardContent>\n        </Card>\n        )\n    }\n\n    renderComments = () => {\n        return <h1>Hello Comments</h1>\n    }\n\n\n    render(){\n        console.log(\"MyShouts state\", this.state)\n        return(\n            <div>\n\n               <div>\n                   {this.state.rendered === true ? this.renderShouts() : <p>Loading...</p>}\n               </div>\n\n               <div>\n               {this.state.rendered === true ? this.renderComments() : <p>Loading...</p>}\n               </div>\n            </div>\n        )\n    }\n}\n\nexport default MyShouts"]},"metadata":{},"sourceType":"module"}