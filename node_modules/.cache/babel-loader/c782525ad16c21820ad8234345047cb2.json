{"ast":null,"code":"var _jsxFileName = \"/home/learn/Desktop/ShoutRandomly/frontend/src/components/Shout.js\";\nimport React from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Card from '@material-ui/core/Card';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport IconButton from '@material-ui/core/IconButton';\nimport { ThumbUp, ThumbDown } from '@material-ui/icons';\nimport Typography from '@material-ui/core/Typography';\nconst styles = {\n  card: {\n    display: 'flex',\n    marginBottom: 20,\n    marginRight: 20\n  },\n  image: {\n    minWidth: 200,\n    width: 400\n  },\n  content: {\n    padding: 25,\n    objectFit: 'cover'\n  }\n};\n\nclass Shout extends React.Component {\n  constructor() {\n    super();\n\n    this.likeShout = shoutId => {\n      const token = localStorage.getItem('token');\n      const postObj = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          shoutId: shoutId\n        })\n      };\n      fetch(`http://localhost:3000/likes`, postObj).then(resp => resp.json()).catch(error => {\n        throw error;\n      }).then(data => // console.log(data)\n      {\n        this.setState({\n          shout: data\n        });\n      });\n    };\n\n    this.dislikeShout = shoutId => {\n      const token = localStorage.getItem('token');\n      const deleteObj = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          shoutId: shoutId\n        })\n      };\n      fetch(`http://localhost:3000/unlike`, deleteObj).then(resp => resp.json()).catch(error => {\n        throw error;\n      }).then(data => {\n        this.setState({\n          shout: data\n        });\n      });\n    };\n\n    this.loadingMessage = () => {\n      return /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 16\n        }\n      }, \"...Loading\");\n    };\n\n    this.renderShout = () => {\n      dayjs.extend(relativeTime);\n      console.log(\"Shout state\", this.state);\n      const {\n        classes\n      } = this.props;\n      const {\n        shout\n      } = this.state;\n      const {\n        id\n      } = this.state.shout;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: classes.card,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(CardMedia, {\n        className: classes.image,\n        image: shout.user.imgUrl,\n        title: \"Profile Image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(CardContent, {\n        className: classes.content,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }\n      }, shout.body), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 25\n        }\n      }, dayjs(shout.created_at).fromNow()), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body1\",\n        color: \"textSecondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }\n      }, \"@\", shout.user.username), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 26\n        }\n      }, shout.likeCount, \" likes\"), /*#__PURE__*/React.createElement(Typography, {\n        variant: \"body2\",\n        color: \"textSecondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 26\n        }\n      }, shout.commentCount, \" comments\"), /*#__PURE__*/React.createElement(IconButton, {\n        \"aria-label\": \"like\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(ThumbUp, {\n        onClick: () => this.likeShout(id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(IconButton, {\n        \"aria-label\": \"dislike\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(ThumbDown, {\n        onClick: () => this.dislikeShout(id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 29\n        }\n      })))));\n    };\n\n    this.state = {\n      rendered: false,\n      shout: {},\n      liked: true,\n      disliked: false,\n      commented: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      shout: this.props.shout,\n      rendered: true\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, this.state.rendered === true ? this.renderShout() : this.loadingMessage());\n  }\n\n}\n\nexport default withStyles(styles)(Shout);","map":{"version":3,"sources":["/home/learn/Desktop/ShoutRandomly/frontend/src/components/Shout.js"],"names":["React","withStyles","Card","dayjs","relativeTime","CardContent","CardMedia","IconButton","ThumbUp","ThumbDown","Typography","styles","card","display","marginBottom","marginRight","image","minWidth","width","content","padding","objectFit","Shout","Component","constructor","likeShout","shoutId","token","localStorage","getItem","postObj","method","headers","body","JSON","stringify","fetch","then","resp","json","catch","error","data","setState","shout","dislikeShout","deleteObj","loadingMessage","renderShout","extend","console","log","state","classes","props","id","user","imgUrl","created_at","fromNow","username","likeCount","commentCount","rendered","liked","disliked","commented","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from 'react'\nimport withStyles from '@material-ui/core/styles/withStyles'\nimport Card from '@material-ui/core/Card'\nimport dayjs from 'dayjs'\nimport relativeTime from 'dayjs/plugin/relativeTime'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport IconButton from '@material-ui/core/IconButton'\nimport { ThumbUp, ThumbDown } from '@material-ui/icons'\n\nimport Typography  from '@material-ui/core/Typography';\n\nconst styles = {\n    card: {\n        display: 'flex',\n        marginBottom: 20,\n        marginRight: 20\n    },\n    image: {\n        minWidth: 200,\n        width: 400\n    },\n    content: {\n        padding: 25,\n        objectFit: 'cover'\n    }\n}\n\nclass Shout extends React.Component{\n\n    constructor(){\n        super()\n        this.state = {\n            rendered: false,\n            shout: {},\n            liked: true ,\n            disliked: false,\n            commented: false\n        }\n    }\n\n    componentDidMount(){\n        this.setState({\n            shout: this.props.shout, rendered: true\n        })\n    }\n\n    likeShout = (shoutId) => {\n        const token = localStorage.getItem('token')\n        const postObj = {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json', 'Authorization': `Bearer ${token}`},\n            body: JSON.stringify({shoutId: shoutId})\n        }\n        fetch(`http://localhost:3000/likes`, postObj)\n        .then(resp => resp.json())\n        .catch(error => {\n            throw(error);\n        })\n        .then(data => \n            // console.log(data)\n             {this.setState({\n            shout:data\n             })}\n        )\n    }\n\n    \n    dislikeShout = (shoutId) => {\n        \n        const token = localStorage.getItem('token')\n        const deleteObj = {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json', 'Authorization': `Bearer ${token}`},\n            body: JSON.stringify({shoutId: shoutId})\n        }\n        fetch(`http://localhost:3000/unlike`, deleteObj)\n        .then(resp => resp.json())\n        .catch(error => {\n            throw(error);\n        })\n        .then(data => \n            { this.setState({shout:data})}\n        )\n        \n\n    }\n\n\n    loadingMessage = () => {\n        return <h3>...Loading</h3>\n    }\n\n    renderShout = () => {\n        dayjs.extend(relativeTime)\n        console.log(\"Shout state\", this.state)\n        const { classes } = this.props \n        const { shout } = this.state\n        \n        const { id } = this.state.shout \n\n        return (\n            <div>\n                <Card className={classes.card}>\n                    <CardMedia className = {classes.image}\n                    image={shout.user.imgUrl} title='Profile Image'/>\n\n                    <CardContent className={classes.content}>\n                        <Typography variant=\"h5\">\n                            {shout.body}\n                        </Typography>\n\n                        <Typography variant=\"body2\" color=\"textSecondary\">\n                             {dayjs(shout.created_at).fromNow()}\n                        </Typography>\n\n                        <Typography variant=\"body1\" color=\"textSecondary\">\n                            @{shout.user.username}\n                        </Typography>\n\n                         <Typography variant=\"body2\" color=\"textSecondary\">\n                            {shout.likeCount} likes\n                        </Typography>\n\n                         <Typography variant=\"body2\" color=\"textSecondary\">\n                            {shout.commentCount} comments\n                        </Typography>\n\n                       \n\n                        <IconButton aria-label=\"like\">\n                            <ThumbUp onClick={() => this.likeShout(id)} />\n                        </IconButton>\n\n                        <IconButton aria-label=\"dislike\">\n                            <ThumbDown  onClick={() => this.dislikeShout(id)} />\n                        </IconButton>\n                    \n                    </CardContent>\n                </Card>  \n            </div>\n        )\n    }\n\n    render(){\n        \n        return(\n            <div>\n                {/* this.state.renderState === 'done' ? this.renderUserInfo() : this.loadingMessage() */}\n                {this.state.rendered === true ? this.renderShout() : this.loadingMessage()}\n            </div>\n        )\n    }\n}\n\nexport default withStyles(styles)(Shout); "]},"metadata":{},"sourceType":"module"}